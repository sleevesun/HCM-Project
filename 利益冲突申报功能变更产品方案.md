# 产品方案文档：利益冲突申报功能变更

---

## 一、业务背景

为解决现有利益冲突申报机制未能覆盖新入职员工，以及入职流程与风控系统数据割裂的问题，本次功能变更旨在优化利益冲突申报流程。通过将更新后的申报问卷嵌入到“入职电子签”环节，实现对增量员工的全面覆盖，并将申报数据统一汇入数据中台，以提升数据一致性，减少员工重复填报，强化公司的合规管理能力。此举涉及招聘、员工服务（HRSSC）、法务合规等多个部门的协同作业。

## 二、业务流程

本方案的核心业务流程聚焦于候选人入职环节，具体步骤如下：

1.  **触发节点**：招聘HR在HCM系统中对通过终面的候选人发起“办理入职”流程。
2.  **任务生成**：系统自动向候选人发送“入职电子签”任务，该任务包含《劳动合同》、《入职承诺书》以及本次更新的《利益冲突申报表》等一系列需要签署或填写的电子文件。
3.  **候选人处理**：
    *   候选人通过邮件或短信链接访问电子签平台。
    *   在线阅读并填写《利益冲突申报表》中的7个问题。
    *   对所有文件完成电子签名确认。
4.  **数据同步**：
    *   候选人完成签署后，其填写的利益冲突申报结果数据被标记为“已完成”。
    *   数据中台通过**定时任务**（如每日凌晨）调用电子签系统的API接口，拉取前一日已完成的利益冲突申报数据。
5.  **流程闭环**：
    *   HRSSC在后台确认所有电子文件签署完毕，继续后续的入职手续。
    *   法务合规部门可通过OA系统的利益冲突模块（已与数据中台对接）或直接访问数据中台，查询、跟进新入职员工的申报结果，特别是针对存在潜在冲突的申报进行处理。

**伪流程图表示**：
`[招聘HR发起入职] -> [系统发送电子签任务] -> [候选人填写/签署] -> [数据沉淀至电子签系统] -> [数据中台定时拉取] -> [法务/OA系统查询使用]`

## 三、用户界面

本方案主要涉及在电子签流程中嵌入一个新的页面/表单。

-   **页面名称**：利益冲突申报表
-   **页面功能说明**：用于收集待入职候选人的利益冲突相关信息。此页面将作为电子签流程中的一个独立步骤呈现。
-   **主要操作项、字段和展示逻辑**：

| 序号 | 字段/操作项 | 类型 | 规则/逻辑 |
| :--- | :--- | :--- | :--- |
| 1 | 问题1：您或您的密切关系人是否存在与本公司合作的情况？ | 单选（是/否） | **必填项**。 |
| 1.1 | 情况概述（问题1） | 多行文本框 | **条件显示**：仅当问题1选择“是”时，此项出现并变为**必填项**。Placeholder提示：“请简要说明与本公司合作事项，包括合作的对象、类型、时间等”。 |
| 2 | 问题2：您或您的密切关系人是否有与本公司供应商、竞争对手合作？ | 单选（是/否） | **必填项**。 |
| 2.1 | 情况概述（问题2） | 多行文本框 | **条件显示**：仅当问题2选择“是”时，此项出现并变为**必填项**。Placeholder提示：“请简要说明合作事项，包括合作的对象、类型、时间等”。 |
| 3 | 问题3：您或您的密切关系人是否有对外投资？ | 单选（是/否） | **必填项**。 |
| 3.1 | 情况概述（问题3） | 多行文本框 | **条件显示**：仅当问题3选择“是”时，此项出现并变为**必填项**。Placeholder提示：“请简要说明投资企业名称、持股比例、是否代持、起始时间等”。 |
| 4 | 问题4：您是否有对外任职或提供劳务？ | 单选（是/否） | **必填项**。 |
| 4.1 | 情况概述（问题4） | 多行文本框 | **条件显示**：仅当问题4选择“是”时，此项出现并变为**必填项**。Placeholder提示：“请简要说明任职方式、任职企业名称、职务、起始时间等”。 |
| 5 | 问题5：您的密切关系人是否在本公司供应商、竞争对手处任职或提供劳务？ | 单选（是/否） | **必填项**。 |
| 5.1 | 情况概述（问题5） | 多行文本框 | **条件显示**：仅当问题5选择“是”时，此项出现并变为**必填项**。Placeholder提示：“请简要说明密切关系人姓名、关系，任职企业名称、职务等”。 |
| 6 | 问题6：您是否有密切关系人在本公司工作？ | 单选（是/否） | **必填项**。 |
| 6.1 | 情况概述（问题6） | 多行文本框 | **条件显示**：仅当问题6选择“是”时，此项出现并变为**必填项**。Placeholder提示：“请简要说明密切关系人姓名、关系、任职部门、职务等”。 |
| 7 | 问题7：您是否有其他利益冲突情形？ | 单选（是/否） | **必填项**。 |
| 7.1 | 情况概述（问题7） | 多行文本框 | **条件显示**：仅当问题7选择“是”时，此项出现并变为**必填项**。Placeholder提示：“请简要说明其他利益冲突情况”。 |
| 8 | 提交/下一步 | 按钮 | 用于保存当前页数据并进入电子签的下一个文件。 |

-   **页面跳转逻辑**：作为电子签流程的一个环节，填写完毕点击“下一步”后，进入下一个待签署文件（如《员工手册》），直至流程结束。

## 四、数据结构

本方案的核心数据将存储于电子签系统，并同步至数据中台。建议在数据中台建立以下数据实体：

-   **数据表/数据实体名称**：`employee_conflict_of_interest_declaration`

-   **字段列表**：

| 字段名 | 类型 | 说明 |
| :--- | :--- | :--- |
| `id` | BigInt | 唯一标识，主键 |
| `declaration_id` | Varchar(64) | 申报记录唯一ID，用于与电子签系统关联 |
| `candidate_id` | Varchar(64) | 候选人唯一标识 |
| `employee_id` | Varchar(64) | 员工工号（入职后回写） |
| `full_name` | Varchar(100) | 员工姓名 |
| `id_card_no` | Varchar(18) | 身份证号（加密存储） |
| `declaration_time` | DateTime | 申报提交时间 |
| `q1_answer` | Enum('Y', 'N') | 问题1答案 |
| `q1_details` | Text | 问题1情况概述 |
| `q2_answer` | Enum('Y', 'N') | 问题2答案 |
| `q2_details` | Text | 问题2情况概述 |
| `q3_answer` | Enum('Y', 'N') | 问题3答案 |
| `q3_details` | Text | 问题3情况概述 |
| `q4_answer` | Enum('Y', 'N') | 问题4答案 |
| `q4_details` | Text | 问题4情况概述 |
| `q5_answer` | Enum('Y', 'N') | 问题5答案 |
| `q5_details` | Text | 问题5情况概述 |
| `q6_answer` | Enum('Y', 'N') | 问题6答案 |
| `q6_details` | Text | 问题6情况概述 |
| `q7_answer` | Enum('Y', 'N') | 问题7答案 |
| `q7_details` | Text | 问题7情况概述 |
| `has_conflict` | Boolean | 综合判断是否存在利益冲突（任一问题为'Y'则为True） |
| `source_system` | Varchar(50) | 数据来源系统（固定值：'E-Signature'） |
| `create_time` | DateTime | 记录创建时间 |
| `update_time` | DateTime | 记录更新时间 |

-   **关键字段逻辑**：
    *   `declaration_id` 作为与源系统关联的业务主键。
    *   `candidate_id` 用于在员工入职前唯一识别用户。
    *   `has_conflict` 为计算字段，方便下游系统快速筛选存在潜在冲突的记录。

## 五、业务规则

1.  **字段校验逻辑**：
    *   所有7个问题均为必选项，候选人必须选择“是”或“否”才能进入下一步。
    *   若任一问题选择“是”，则其对应的“情况概述”文本框变为必填项，且内容不能为空。

2.  **状态流转规则**：
    *   申报表状态：未填写 -> 填写中 -> 已完成。
    *   一旦提交，申报内容不可修改。

3.  **自动计算/填充逻辑**：
    *   `has_conflict` 字段：当系统记录申报数据时，自动计算该值。计算逻辑为：`IF (q1_answer='Y' OR q2_answer='Y' OR ... OR q7_answer='Y') THEN True ELSE False`。

4.  **接口与同步规则**：
    *   数据中台需提供一个数据接收或轮询拉取的API接口。
    *   接口需支持按时间范围查询，以便定时任务拉取增量数据。
    *   接口需保证数据传输的幂等性，即重复拉取同一条数据不会造成重复插入。

## 六、权限要求

1.  **权限控制维度**：主要基于角色进行权限划分。

2.  **各角色功能与数据权限**：

| 角色 | 功能权限 | 数据可见性 |
| :--- | :--- | :--- |
| **待入职候选人** | - 填写并提交本人的利益冲突申报表<br>- 查看本人已提交的申报内容（在签署流程结束前） | 仅限本人的申报数据 |
| **招聘 HR** | - 发起包含利冲申报的入职流程<br>- 查看候选人的申报状态（如：未填写、已完成） | 可查看其负责的候选人的申报**状态**，但**不可见**申报的具体内容。 |
| **HRSSC** | - 查看候选人所有入职电子文件的签署状态，包括利冲申报表 | 可查看其负责办理入职的候选人的申报**状态**，但**不可见**申报的具体内容。 |
| **法务合规** | - 查询和导出所有新员工的利益冲突申报详情<br>- 对存在潜在冲突的申报进行标记和跟进 | 可查看所有新入职员工的完整申报内容（所有问题的答案和详情）。 |
| **系统管理员** | - 配置申报问卷内容（预留）<br>- 管理数据同步任务 | 拥有系统的最高管理权限。 |

---